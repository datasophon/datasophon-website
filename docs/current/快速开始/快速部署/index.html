<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-快速开始/快速部署">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">快速部署 | DataSophon</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://datasophon.github.io/datasophon-website/docs/current/快速开始/快速部署"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="快速部署 | DataSophon"><meta data-rh="true" name="description" content="1. 本地部署"><meta data-rh="true" property="og:description" content="1. 本地部署"><link data-rh="true" rel="icon" href="/datasophon-website/img/brand.png"><link data-rh="true" rel="canonical" href="https://datasophon.github.io/datasophon-website/docs/current/快速开始/快速部署"><link data-rh="true" rel="alternate" href="https://datasophon.github.io/datasophon-website/docs/current/快速开始/快速部署" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://datasophon.github.io/datasophon-website/en/docs/current/快速开始/快速部署" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://datasophon.github.io/datasophon-website/docs/current/快速开始/快速部署" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/datasophon-website/blog/rss.xml" title="DataSophon RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/datasophon-website/blog/atom.xml" title="DataSophon Atom Feed"><link rel="stylesheet" href="/datasophon-website/assets/css/styles.a05964f8.css">
<link rel="preload" href="/datasophon-website/assets/js/runtime~main.3e642f8d.js" as="script">
<link rel="preload" href="/datasophon-website/assets/js/main.085e9eba.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/datasophon-website/"><div class="navbar__logo"><img src="/datasophon-website/img/brand.png" alt="DataSophon Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/datasophon-website/img/brand.png" alt="DataSophon Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">DataSophon</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/datasophon-website/docs/current/概览">文档</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/datasophon-website/docs/current/快速开始/快速部署" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li><li><a href="/datasophon-website/en/docs/current/快速开始/快速部署" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-GB">English</a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://github.com/datasophon/datasophon-website/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/datasophon-website/blog">博客</a><a href="https://github.com/datasophon/datasophon" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/datasophon-website/docs/current/概览">概览</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/datasophon-website/docs/current/category/quick-start">快速开始</a><button aria-label="打开/收起侧边栏菜单「快速开始」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datasophon-website/docs/current/快速开始/概念">概念</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datasophon-website/docs/current/快速开始/准备环境">准备环境</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/datasophon-website/docs/current/快速开始/快速部署">快速部署</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/datasophon-website/docs/current/category/configuration-center">使用手册</a><button aria-label="打开/收起侧边栏菜单「使用手册」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/datasophon-website/docs/current/category/loader">架构设计</a><button aria-label="打开/收起侧边栏菜单「架构设计」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/datasophon-website/docs/current/category/release-plan">版本计划</a><button aria-label="打开/收起侧边栏菜单「版本计划」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/datasophon-website/docs/current/category/dev-guide">开发者指南</a><button aria-label="打开/收起侧边栏菜单「开发者指南」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/datasophon-website/docs/current/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/datasophon-website/docs/current/comminicate">交流与贡献</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/datasophon-website/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/datasophon-website/docs/current/category/quick-start"><span itemprop="name">快速开始</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">快速部署</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>快速部署</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-本地部署">1. 本地部署<a href="#1-本地部署" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-文件结构">1.1 文件结构<a href="#11-文件结构" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>首先解压安装包</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -zxvf datasophon-manager-</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">version</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">.tar.gz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>解压之后的文件结构如下</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">├── bin               </span><span class="token comment" style="color:#999988;font-style:italic"># 执行脚本目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── conf              </span><span class="token comment" style="color:#999988;font-style:italic"># 配置文件目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── lib               </span><span class="token comment" style="color:#999988;font-style:italic"># 项目依赖目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">logs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 日志目录；应用运行后生成</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── jmx               </span><span class="token comment" style="color:#999988;font-style:italic"># jmx插件目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── datasophon-init   </span><span class="token comment" style="color:#999988;font-style:italic"># 环境初始化脚本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── README.md         </span><span class="token comment" style="color:#999988;font-style:italic"># 读我说明</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Dockerfile        </span><span class="token comment" style="color:#999988;font-style:italic"># 容器构建脚本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── LICENSE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-配置应用数据库">1.2 配置应用数据库<a href="#12-配置应用数据库" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>注意需关闭mysql ssl功能。在部署过程中，部分组件会执行sql生成库表，不同环境的mysql在配置上存在差异，可根据sql执行情况，变更mysql配置。</p><ol><li>创建数据库, 指定数据库编码为UTF-8</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE DATABASE IF NOT EXISTS datasophon DEFAULT CHARACTER SET utf8;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grant all privileges on *.* to datasophon@&quot;%&quot; identified by &#x27;datasophon&#x27; with grant option;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GRANT ALL PRIVILEGES ON *.* TO &#x27;datasophon&#x27;@&#x27;%&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FLUSH PRIVILEGES;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p><strong>注意：1.1.3 版本以前，需要手动执行sql/datasophon.sql来初始化数据库。此版本及以上版本，创建好数据库即可，在初次连接时会自动初始化数据库</strong></p><p><strong>首次连接数据库(或者版本升级)时,建议使用一个权限较高的数据库账号登录(建议 root 账号)。因为首次连接会执行数据库初始化脚本，如果使用的数据库账号权限太低，会导致数据库初始化失败</strong></p></div></div><ol start="2"><li>编辑 <code>conf/datasophon.conf</code> 文件完成配置</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">datasource.ip</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">localhost           </span><span class="token comment" style="color:#999988;font-style:italic"># 数据库IP或域名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datasource.port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3306</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic"># 数据库端口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datasource.database</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">datasophon        </span><span class="token comment" style="color:#999988;font-style:italic"># 数据库名称</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datasource.username</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">root          </span><span class="token comment" style="color:#999988;font-style:italic"># 用户名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datasource.password</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">root          </span><span class="token comment" style="color:#999988;font-style:italic"># 密码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server.port</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic"># 服务启动端口(可选)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-下载ddp部署包">1.3 下载DDP部署包<a href="#13-下载ddp部署包" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>DDP部署包下载地址：</p><p>链接：<a href="https://pan.baidu.com/s/1AA8uUpiV8ejyYavjg2uTAw?pwd=hnn0" target="_blank" rel="noopener noreferrer">https://pan.baidu.com/s/1AA8uUpiV8ejyYavjg2uTAw?pwd=hnn0</a>
提取码：hnn0 </p><p>在/opt/datasophon目录下创建目录</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p /opt/datasophon/DDP/packages</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>将下载的部署包上传(或者使用软链)到/opt/datasophon/DDP/packages目录下，作为项目部署包仓库地址。</p><p><img loading="lazy" alt="image-20221111162257092" src="/datasophon-website/assets/images/image-20221111162257092-b3d5039e4870e7960b4b305b90edc627.png" width="867" height="917" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="启动datasophon">启动DataSophon<a href="#启动datasophon" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">启动：sh bin/datasophon-api.sh start api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">停止：sh bin/datasophon-api.sh stop api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">重启：sh bin/datasophon-api.sh restart api</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>部署成功后，可以进行日志查看，日志统一存放于logs文件夹内:</p><p> logs/</p><p>  ├── ddh-api.log</p><p>  ├── ddh-api-error.log</p><p>  |—— api-{hostname}.out</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="14-访问页面">1.4 访问页面<a href="#14-访问页面" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>访问前端页面地址,接口ip(自行修改) [<a href="http://192.168.xx.xx:8081/ddh%EF%BC%8C%E9%BB%98%E8%AE%A4%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E5%AF%86%E7%A0%81%E4%B8%BAadmin/admin123" target="_blank" rel="noopener noreferrer">http://192.168.xx.xx:8081/ddh，默认用户名和密码为admin/admin123</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-docker部署">2. Docker部署<a href="#2-docker部署" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>DataSophon支持Docker 和 Docker-Compose 部署,在解压发布包后,内部自带 Dockerfile 用于构建镜像</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-构建镜像">2.1 构建镜像<a href="#21-构建镜像" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build -t datasophon/datasophon:dev </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-挂载配置">2.2 挂载配置<a href="#22-挂载配置" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>DataSophon 在启动时还需要数据库和DDP部署包才可以真正的进行使用</p><p>数据库的挂载路径为 <code>/datasophon/conf/datasophon.conf</code></p><p>DDP部署包的挂载路径为 <code>/opt/datasophon/DDP/packages</code>, 由于部署包文件较大,需要另外下载</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-启动应用">2.3 启动应用<a href="#23-启动应用" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>当以上的配置准备就绪后,就可以在启动命令中增加挂载参数。以下是完整命令：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -d --name datasophon -v your_path/datasophon.conf:/datasophon/conf/datasophon.conf -v your_path/DDP:/opt/datasophon/DDP/packages -p </span><span class="token number" style="color:#36acaa">8081</span><span class="token plain">:8081 datasophon/datasophon</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>镜像启动成功后，在浏览器中访问 <a href="http://docker_ip:8081/ddh" target="_blank" rel="noopener noreferrer">http://docker_ip:8081/ddh</a> 进入登录页。 默认用户名和密码为admin/admin123</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-详细配置">3. 详细配置<a href="#3-详细配置" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>DataSophon 的所有应用配置文件在 conf 目录下。如果需要使用 DataSophon 的全部功能，在这之前先了解一下如何进行配置</p><p>conf 目录结构如下：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">|</span><span class="token plain">-- datasophon.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">-- logback-api.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">-- common.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">-- profiles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">-- application-config.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>datasophon.conf</code> 为快捷配置文件；如果你只想快速体验 DataSophon 的功能，配置它就足够了。datasophon.conf 本质上是 application-config.yml 中常用配置的快捷方式</p><p><code>logback-api.xml</code>为日志配置文件</p><p><code>profiles/application-config.yml</code> 为应用配置文件，包含所有的应用配置。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-快捷配置">3.1 快捷配置<a href="#31-快捷配置" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p><code>datasophon.conf</code> 为快捷配置文件；所有配置参数如下：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ====== 应用数据库配置 ======</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 数据库IP或域名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datasource.ip</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 数据库端口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datasource.port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3306</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 数据库名称</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datasource.database</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">datasophon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 用户名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datasource.username</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 密码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datasource.password</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ====== 应用服务器配置 ======</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 服务器端口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server.port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">8081</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 服务器地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   Web 服务所绑定的本机网卡地址，一般为内网地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server.address</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-应用配置">3.2 应用配置<a href="#32-应用配置" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p><code>profiles/application-config.yml</code> 为应用配置文件，里面包含 datasophon 应用的所有配置。<code>datasophon.conf</code> 中的内容实际上是 application-config.yml 部分配置项的快捷方式。</p><p>在编辑配置时需要注意以下事项：</p><p>一定要严格遵循 yml 格式，注意空格与缩进，错误配置会导致程序无法正常启动
application-config.yml 直接由 spring-boot 处理</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="321-应用数据库配置">3.2.1 应用数据库配置<a href="#321-应用数据库配置" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><p>spring.datasource 为应用数据库配置</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spring</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">datasource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 驱动类名称</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">driver-class-name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> com.mysql.cj.jdbc.Driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 数据源类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> com.alibaba.druid.pool.DruidDataSource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 连接字符串</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> jdbc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">datasource.ip</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">localhost</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">datasource.port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3306</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">datasource.database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">datasophon</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">?</span><span class="token important">&amp;allowMultiQueries=true&amp;characterEncoding=utf-</span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 用户名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">datasource.username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">datasophon</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 密码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">datasource.password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">datasophon</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>默认情况下，会读取 <code>datasophon.conf</code> 中的应用数据库配置项填充到模板中</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="322-应用服务器配置">3.2.2 应用服务器配置<a href="#322-应用服务器配置" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Web 服务绑定端口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">server.port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8081</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Web 服务绑定地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">server.ip</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0.0.0.0</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>需要注意，所绑定的地址为本地网卡 IP 地址，一般为内网地址</p><p>同样在默认情况下，会读取 datasophon.conf 中的应用服务器配置项填充到模板中</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="323-datasophon-全局配置">3.2.3 datasophon 全局配置<a href="#323-datasophon-全局配置" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">datasophon</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 是否自动执行数据库升级脚本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">migration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enable</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/datasophon/datasophon-website/docs/快速开始/快速部署.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/datasophon-website/docs/current/快速开始/准备环境"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">准备环境</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/datasophon-website/docs/current/category/configuration-center"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Configuration Center</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-本地部署" class="table-of-contents__link toc-highlight">1. 本地部署</a><ul><li><a href="#11-文件结构" class="table-of-contents__link toc-highlight">1.1 文件结构</a></li><li><a href="#12-配置应用数据库" class="table-of-contents__link toc-highlight">1.2 配置应用数据库</a></li><li><a href="#13-下载ddp部署包" class="table-of-contents__link toc-highlight">1.3 下载DDP部署包</a></li><li><a href="#启动datasophon" class="table-of-contents__link toc-highlight">启动DataSophon</a></li><li><a href="#14-访问页面" class="table-of-contents__link toc-highlight">1.4 访问页面</a></li></ul></li><li><a href="#2-docker部署" class="table-of-contents__link toc-highlight">2. Docker部署</a><ul><li><a href="#21-构建镜像" class="table-of-contents__link toc-highlight">2.1 构建镜像</a></li><li><a href="#22-挂载配置" class="table-of-contents__link toc-highlight">2.2 挂载配置</a></li><li><a href="#23-启动应用" class="table-of-contents__link toc-highlight">2.3 启动应用</a></li></ul></li><li><a href="#3-详细配置" class="table-of-contents__link toc-highlight">3. 详细配置</a><ul><li><a href="#31-快捷配置" class="table-of-contents__link toc-highlight">3.1 快捷配置</a></li><li><a href="#32-应用配置" class="table-of-contents__link toc-highlight">3.2 应用配置</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/datasophon-website/docs/current/概览">文档</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/datasophon/datasophon" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github Discussion<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/datasophon-website/blog">博客</a></li><li class="footer__item"><a href="https://github.com/datasophon/datasophon/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/datasophon-website/assets/js/runtime~main.3e642f8d.js"></script>
<script src="/datasophon-website/assets/js/main.085e9eba.js"></script>
</body>
</html>