"use strict";(self.webpackChunkathenaserving=self.webpackChunkathenaserving||[]).push([[4002],{3905:(e,n,a)=>{a.d(n,{Zo:()=>d,kt:()=>m});var t=a(7294);function o(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function r(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?r(Object(a),!0).forEach((function(n){o(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function p(e,n){if(null==e)return{};var a,t,o=function(e,n){if(null==e)return{};var a,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||(o[a]=e[a]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=t.createContext({}),i=function(e){var n=t.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):l(l({},n),e)),a},d=function(e){var n=i(e.components);return t.createElement(s.Provider,{value:n},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},h=t.forwardRef((function(e,n){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),c=i(a),h=o,m=c["".concat(s,".").concat(h)]||c[h]||u[h]||r;return a?t.createElement(m,l(l({ref:n},d),{},{components:a})):t.createElement(m,l({ref:n},d))}));function m(e,n){var a=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=a.length,l=new Array(r);l[0]=h;var p={};for(var s in n)hasOwnProperty.call(n,s)&&(p[s]=n[s]);p.originalType=e,p[c]="string"==typeof e?e:o,l[1]=p;for(var i=2;i<r;i++)l[i]=a[i];return t.createElement.apply(null,l)}return t.createElement.apply(null,a)}h.displayName="MDXCreateElement"},2e3:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>p,toc:()=>i});var t=a(7462),o=(a(7294),a(3905));const r={sidebar_position:2,sidebar_label:"\u5feb\u901f\u90e8\u7f72"},l=void 0,p={unversionedId:"\u5feb\u901f\u5f00\u59cb/\u5feb\u901f\u90e8\u7f72",id:"\u5feb\u901f\u5f00\u59cb/\u5feb\u901f\u90e8\u7f72",title:"\u5feb\u901f\u90e8\u7f72",description:"1. \u672c\u5730\u90e8\u7f72",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/\u5feb\u901f\u5f00\u59cb/\u5feb\u901f\u90e8\u7f72.md",sourceDirName:"\u5feb\u901f\u5f00\u59cb",slug:"/\u5feb\u901f\u5f00\u59cb/\u5feb\u901f\u90e8\u7f72",permalink:"/datasophon-website/docs/current/\u5feb\u901f\u5f00\u59cb/\u5feb\u901f\u90e8\u7f72",draft:!1,editUrl:"https://github.com/datasophon/datasophon-website/docs/\u5feb\u901f\u5f00\u59cb/\u5feb\u901f\u90e8\u7f72.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"\u5feb\u901f\u90e8\u7f72"},sidebar:"docSidebar",previous:{title:"\u51c6\u5907\u73af\u5883",permalink:"/datasophon-website/docs/current/\u5feb\u901f\u5f00\u59cb/\u51c6\u5907\u73af\u5883"},next:{title:"Configuration Center",permalink:"/datasophon-website/docs/current/category/configuration-center"}},s={},i=[{value:"1. \u672c\u5730\u90e8\u7f72",id:"1-\u672c\u5730\u90e8\u7f72",level:2},{value:"1.1 \u6587\u4ef6\u7ed3\u6784",id:"11-\u6587\u4ef6\u7ed3\u6784",level:3},{value:"1.2 \u914d\u7f6e\u5e94\u7528\u6570\u636e\u5e93",id:"12-\u914d\u7f6e\u5e94\u7528\u6570\u636e\u5e93",level:3},{value:"1.3 \u4e0b\u8f7dDDP\u90e8\u7f72\u5305",id:"13-\u4e0b\u8f7dddp\u90e8\u7f72\u5305",level:3},{value:"\u542f\u52a8DataSophon",id:"\u542f\u52a8datasophon",level:3},{value:"1.4 \u8bbf\u95ee\u9875\u9762",id:"14-\u8bbf\u95ee\u9875\u9762",level:3},{value:"2. Docker\u90e8\u7f72",id:"2-docker\u90e8\u7f72",level:2},{value:"2.1 \u6784\u5efa\u955c\u50cf",id:"21-\u6784\u5efa\u955c\u50cf",level:3},{value:"2.2 \u6302\u8f7d\u914d\u7f6e",id:"22-\u6302\u8f7d\u914d\u7f6e",level:3},{value:"2.3 \u542f\u52a8\u5e94\u7528",id:"23-\u542f\u52a8\u5e94\u7528",level:3},{value:"3. \u8be6\u7ec6\u914d\u7f6e",id:"3-\u8be6\u7ec6\u914d\u7f6e",level:2},{value:"3.1 \u5feb\u6377\u914d\u7f6e",id:"31-\u5feb\u6377\u914d\u7f6e",level:3},{value:"3.2 \u5e94\u7528\u914d\u7f6e",id:"32-\u5e94\u7528\u914d\u7f6e",level:3},{value:"3.2.1 \u5e94\u7528\u6570\u636e\u5e93\u914d\u7f6e",id:"321-\u5e94\u7528\u6570\u636e\u5e93\u914d\u7f6e",level:4},{value:"3.2.2 \u5e94\u7528\u670d\u52a1\u5668\u914d\u7f6e",id:"322-\u5e94\u7528\u670d\u52a1\u5668\u914d\u7f6e",level:4},{value:"3.2.3 datasophon \u5168\u5c40\u914d\u7f6e",id:"323-datasophon-\u5168\u5c40\u914d\u7f6e",level:4}],d={toc:i},c="wrapper";function u(e){let{components:n,...r}=e;return(0,o.kt)(c,(0,t.Z)({},d,r,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"1-\u672c\u5730\u90e8\u7f72"},"1. \u672c\u5730\u90e8\u7f72"),(0,o.kt)("h3",{id:"11-\u6587\u4ef6\u7ed3\u6784"},"1.1 \u6587\u4ef6\u7ed3\u6784"),(0,o.kt)("p",null,"\u9996\u5148\u89e3\u538b\u5b89\u88c5\u5305"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"tar -zxvf datasophon-manager-{version}.tar.gz\n")),(0,o.kt)("p",null,"\u89e3\u538b\u4e4b\u540e\u7684\u6587\u4ef6\u7ed3\u6784\u5982\u4e0b"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"\u251c\u2500\u2500 bin               # \u6267\u884c\u811a\u672c\u76ee\u5f55\n\u251c\u2500\u2500 conf              # \u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\n\u251c\u2500\u2500 lib               # \u9879\u76ee\u4f9d\u8d56\u76ee\u5f55\n\u251c\u2500\u2500 (logs)            # \u65e5\u5fd7\u76ee\u5f55\uff1b\u5e94\u7528\u8fd0\u884c\u540e\u751f\u6210\n\u251c\u2500\u2500 jmx               # jmx\u63d2\u4ef6\u76ee\u5f55\n\u251c\u2500\u2500 datasophon-init   # \u73af\u5883\u521d\u59cb\u5316\u811a\u672c\n\u251c\u2500\u2500 README.md         # \u8bfb\u6211\u8bf4\u660e\n\u251c\u2500\u2500 Dockerfile        # \u5bb9\u5668\u6784\u5efa\u811a\u672c\n\u2514\u2500\u2500 LICENSE\n")),(0,o.kt)("h3",{id:"12-\u914d\u7f6e\u5e94\u7528\u6570\u636e\u5e93"},"1.2 \u914d\u7f6e\u5e94\u7528\u6570\u636e\u5e93"),(0,o.kt)("p",null,"\u6ce8\u610f\u9700\u5173\u95edmysql ssl\u529f\u80fd\u3002\u5728\u90e8\u7f72\u8fc7\u7a0b\u4e2d\uff0c\u90e8\u5206\u7ec4\u4ef6\u4f1a\u6267\u884csql\u751f\u6210\u5e93\u8868\uff0c\u4e0d\u540c\u73af\u5883\u7684mysql\u5728\u914d\u7f6e\u4e0a\u5b58\u5728\u5dee\u5f02\uff0c\u53ef\u6839\u636esql\u6267\u884c\u60c5\u51b5\uff0c\u53d8\u66f4mysql\u914d\u7f6e\u3002"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u521b\u5efa\u6570\u636e\u5e93, \u6307\u5b9a\u6570\u636e\u5e93\u7f16\u7801\u4e3aUTF-8")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"CREATE DATABASE IF NOT EXISTS datasophon DEFAULT CHARACTER SET utf8;\ngrant all privileges on *.* to datasophon@\"%\" identified by 'datasophon' with grant option;\nGRANT ALL PRIVILEGES ON *.* TO 'datasophon'@'%';\nFLUSH PRIVILEGES;\n")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a1.1.3 \u7248\u672c\u4ee5\u524d\uff0c\u9700\u8981\u624b\u52a8\u6267\u884csql/datasophon.sql\u6765\u521d\u59cb\u5316\u6570\u636e\u5e93\u3002\u6b64\u7248\u672c\u53ca\u4ee5\u4e0a\u7248\u672c\uff0c\u521b\u5efa\u597d\u6570\u636e\u5e93\u5373\u53ef\uff0c\u5728\u521d\u6b21\u8fde\u63a5\u65f6\u4f1a\u81ea\u52a8\u521d\u59cb\u5316\u6570\u636e\u5e93")),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("strong",{parentName:"p"},"\u9996\u6b21\u8fde\u63a5\u6570\u636e\u5e93(\u6216\u8005\u7248\u672c\u5347\u7ea7)\u65f6,\u5efa\u8bae\u4f7f\u7528\u4e00\u4e2a\u6743\u9650\u8f83\u9ad8\u7684\u6570\u636e\u5e93\u8d26\u53f7\u767b\u5f55(\u5efa\u8bae root \u8d26\u53f7)\u3002\u56e0\u4e3a\u9996\u6b21\u8fde\u63a5\u4f1a\u6267\u884c\u6570\u636e\u5e93\u521d\u59cb\u5316\u811a\u672c\uff0c\u5982\u679c\u4f7f\u7528\u7684\u6570\u636e\u5e93\u8d26\u53f7\u6743\u9650\u592a\u4f4e\uff0c\u4f1a\u5bfc\u81f4\u6570\u636e\u5e93\u521d\u59cb\u5316\u5931\u8d25"))),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"\u7f16\u8f91 ",(0,o.kt)("inlineCode",{parentName:"li"},"conf/datasophon.conf")," \u6587\u4ef6\u5b8c\u6210\u914d\u7f6e")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"datasource.ip=localhost           # \u6570\u636e\u5e93IP\u6216\u57df\u540d\ndatasource.port=3306              # \u6570\u636e\u5e93\u7aef\u53e3\ndatasource.database=datasophon        # \u6570\u636e\u5e93\u540d\u79f0\ndatasource.username=root          # \u7528\u6237\u540d\ndatasource.password=root          # \u5bc6\u7801\n\nserver.port=                      # \u670d\u52a1\u542f\u52a8\u7aef\u53e3(\u53ef\u9009)\n")),(0,o.kt)("h3",{id:"13-\u4e0b\u8f7dddp\u90e8\u7f72\u5305"},"1.3 \u4e0b\u8f7dDDP\u90e8\u7f72\u5305"),(0,o.kt)("p",null,"DDP\u90e8\u7f72\u5305\u4e0b\u8f7d\u5730\u5740\uff1a"),(0,o.kt)("p",null,"\u94fe\u63a5\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://pan.baidu.com/s/1AA8uUpiV8ejyYavjg2uTAw?pwd=hnn0"},"https://pan.baidu.com/s/1AA8uUpiV8ejyYavjg2uTAw?pwd=hnn0"),"\n\u63d0\u53d6\u7801\uff1ahnn0 "),(0,o.kt)("p",null,"\u5728/opt/datasophon\u76ee\u5f55\u4e0b\u521b\u5efa\u76ee\u5f55"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"mkdir -p /opt/datasophon/DDP/packages\n")),(0,o.kt)("p",null,"\u5c06\u4e0b\u8f7d\u7684\u90e8\u7f72\u5305\u4e0a\u4f20(\u6216\u8005\u4f7f\u7528\u8f6f\u94fe)\u5230/opt/datasophon/DDP/packages\u76ee\u5f55\u4e0b\uff0c\u4f5c\u4e3a\u9879\u76ee\u90e8\u7f72\u5305\u4ed3\u5e93\u5730\u5740\u3002"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"image-20221111162257092",src:a(9982).Z,width:"867",height:"917"})),(0,o.kt)("h3",{id:"\u542f\u52a8datasophon"},"\u542f\u52a8DataSophon"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"\u542f\u52a8\uff1ash bin/datasophon-api.sh start api\n\u505c\u6b62\uff1ash bin/datasophon-api.sh stop api\n\u91cd\u542f\uff1ash bin/datasophon-api.sh restart api\n")),(0,o.kt)("p",null,"\u90e8\u7f72\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u8fdb\u884c\u65e5\u5fd7\u67e5\u770b\uff0c\u65e5\u5fd7\u7edf\u4e00\u5b58\u653e\u4e8elogs\u6587\u4ef6\u5939\u5185:"),(0,o.kt)("p",null," logs/"),(0,o.kt)("p",null,"  \u251c\u2500\u2500 ddh-api.log"),(0,o.kt)("p",null,"  \u251c\u2500\u2500 ddh-api-error.log"),(0,o.kt)("p",null,"  |\u2014\u2014 api-{hostname}.out"),(0,o.kt)("h3",{id:"14-\u8bbf\u95ee\u9875\u9762"},"1.4 \u8bbf\u95ee\u9875\u9762"),(0,o.kt)("p",null,"\u8bbf\u95ee\u524d\u7aef\u9875\u9762\u5730\u5740,\u63a5\u53e3ip(\u81ea\u884c\u4fee\u6539) [",(0,o.kt)("a",{parentName:"p",href:"http://192.168.xx.xx:8081/ddh%EF%BC%8C%E9%BB%98%E8%AE%A4%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E5%AF%86%E7%A0%81%E4%B8%BAadmin/admin123"},"http://192.168.xx.xx:8081/ddh\uff0c\u9ed8\u8ba4\u7528\u6237\u540d\u548c\u5bc6\u7801\u4e3aadmin/admin123")),(0,o.kt)("h2",{id:"2-docker\u90e8\u7f72"},"2. Docker\u90e8\u7f72"),(0,o.kt)("p",null,"DataSophon\u652f\u6301Docker \u548c Docker-Compose \u90e8\u7f72,\u5728\u89e3\u538b\u53d1\u5e03\u5305\u540e,\u5185\u90e8\u81ea\u5e26 Dockerfile \u7528\u4e8e\u6784\u5efa\u955c\u50cf"),(0,o.kt)("h3",{id:"21-\u6784\u5efa\u955c\u50cf"},"2.1 \u6784\u5efa\u955c\u50cf"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker build -t datasophon/datasophon:dev .\n")),(0,o.kt)("h3",{id:"22-\u6302\u8f7d\u914d\u7f6e"},"2.2 \u6302\u8f7d\u914d\u7f6e"),(0,o.kt)("p",null,"DataSophon \u5728\u542f\u52a8\u65f6\u8fd8\u9700\u8981\u6570\u636e\u5e93\u548cDDP\u90e8\u7f72\u5305\u624d\u53ef\u4ee5\u771f\u6b63\u7684\u8fdb\u884c\u4f7f\u7528"),(0,o.kt)("p",null,"\u6570\u636e\u5e93\u7684\u6302\u8f7d\u8def\u5f84\u4e3a ",(0,o.kt)("inlineCode",{parentName:"p"},"/datasophon/conf/datasophon.conf")),(0,o.kt)("p",null,"DDP\u90e8\u7f72\u5305\u7684\u6302\u8f7d\u8def\u5f84\u4e3a ",(0,o.kt)("inlineCode",{parentName:"p"},"/opt/datasophon/DDP/packages"),", \u7531\u4e8e\u90e8\u7f72\u5305\u6587\u4ef6\u8f83\u5927,\u9700\u8981\u53e6\u5916\u4e0b\u8f7d"),(0,o.kt)("h3",{id:"23-\u542f\u52a8\u5e94\u7528"},"2.3 \u542f\u52a8\u5e94\u7528"),(0,o.kt)("p",null,"\u5f53\u4ee5\u4e0a\u7684\u914d\u7f6e\u51c6\u5907\u5c31\u7eea\u540e,\u5c31\u53ef\u4ee5\u5728\u542f\u52a8\u547d\u4ee4\u4e2d\u589e\u52a0\u6302\u8f7d\u53c2\u6570\u3002\u4ee5\u4e0b\u662f\u5b8c\u6574\u547d\u4ee4\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker run -d --name datasophon -v your_path/datasophon.conf:/datasophon/conf/datasophon.conf -v your_path/DDP:/opt/datasophon/DDP/packages -p 8081:8081 datasophon/datasophon\n")),(0,o.kt)("p",null,"\u955c\u50cf\u542f\u52a8\u6210\u529f\u540e\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee ",(0,o.kt)("a",{parentName:"p",href:"http://docker_ip:8081/ddh"},"http://docker_ip:8081/ddh")," \u8fdb\u5165\u767b\u5f55\u9875\u3002 \u9ed8\u8ba4\u7528\u6237\u540d\u548c\u5bc6\u7801\u4e3aadmin/admin123"),(0,o.kt)("h2",{id:"3-\u8be6\u7ec6\u914d\u7f6e"},"3. \u8be6\u7ec6\u914d\u7f6e"),(0,o.kt)("p",null,"DataSophon \u7684\u6240\u6709\u5e94\u7528\u914d\u7f6e\u6587\u4ef6\u5728 conf \u76ee\u5f55\u4e0b\u3002\u5982\u679c\u9700\u8981\u4f7f\u7528 DataSophon \u7684\u5168\u90e8\u529f\u80fd\uff0c\u5728\u8fd9\u4e4b\u524d\u5148\u4e86\u89e3\u4e00\u4e0b\u5982\u4f55\u8fdb\u884c\u914d\u7f6e"),(0,o.kt)("p",null,"conf \u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"|-- datasophon.conf\n|-- logback-api.xml\n|-- common.properties\n|-- profiles\n|   |-- application-config.yml\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"datasophon.conf")," \u4e3a\u5feb\u6377\u914d\u7f6e\u6587\u4ef6\uff1b\u5982\u679c\u4f60\u53ea\u60f3\u5feb\u901f\u4f53\u9a8c DataSophon \u7684\u529f\u80fd\uff0c\u914d\u7f6e\u5b83\u5c31\u8db3\u591f\u4e86\u3002datasophon.conf \u672c\u8d28\u4e0a\u662f application-config.yml \u4e2d\u5e38\u7528\u914d\u7f6e\u7684\u5feb\u6377\u65b9\u5f0f"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"logback-api.xml"),"\u4e3a\u65e5\u5fd7\u914d\u7f6e\u6587\u4ef6"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"profiles/application-config.yml")," \u4e3a\u5e94\u7528\u914d\u7f6e\u6587\u4ef6\uff0c\u5305\u542b\u6240\u6709\u7684\u5e94\u7528\u914d\u7f6e\u3002"),(0,o.kt)("h3",{id:"31-\u5feb\u6377\u914d\u7f6e"},"3.1 \u5feb\u6377\u914d\u7f6e"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"datasophon.conf")," \u4e3a\u5feb\u6377\u914d\u7f6e\u6587\u4ef6\uff1b\u6240\u6709\u914d\u7f6e\u53c2\u6570\u5982\u4e0b\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"# ====== \u5e94\u7528\u6570\u636e\u5e93\u914d\u7f6e ======\n# \u6570\u636e\u5e93IP\u6216\u57df\u540d\ndatasource.ip=localhost\n# \u6570\u636e\u5e93\u7aef\u53e3\ndatasource.port=3306\n# \u6570\u636e\u5e93\u540d\u79f0\ndatasource.database=datasophon\n# \u7528\u6237\u540d\ndatasource.username=root\n# \u5bc6\u7801\ndatasource.password=root\n# ====== \u5e94\u7528\u670d\u52a1\u5668\u914d\u7f6e ======\n# \u670d\u52a1\u5668\u7aef\u53e3\nserver.port=8081\n# \u670d\u52a1\u5668\u5730\u5740\n#   Web \u670d\u52a1\u6240\u7ed1\u5b9a\u7684\u672c\u673a\u7f51\u5361\u5730\u5740\uff0c\u4e00\u822c\u4e3a\u5185\u7f51\u5730\u5740\nserver.address=0.0.0.0\n")),(0,o.kt)("h3",{id:"32-\u5e94\u7528\u914d\u7f6e"},"3.2 \u5e94\u7528\u914d\u7f6e"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"profiles/application-config.yml")," \u4e3a\u5e94\u7528\u914d\u7f6e\u6587\u4ef6\uff0c\u91cc\u9762\u5305\u542b datasophon \u5e94\u7528\u7684\u6240\u6709\u914d\u7f6e\u3002",(0,o.kt)("inlineCode",{parentName:"p"},"datasophon.conf")," \u4e2d\u7684\u5185\u5bb9\u5b9e\u9645\u4e0a\u662f application-config.yml \u90e8\u5206\u914d\u7f6e\u9879\u7684\u5feb\u6377\u65b9\u5f0f\u3002"),(0,o.kt)("p",null,"\u5728\u7f16\u8f91\u914d\u7f6e\u65f6\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u4e8b\u9879\uff1a"),(0,o.kt)("p",null,"\u4e00\u5b9a\u8981\u4e25\u683c\u9075\u5faa yml \u683c\u5f0f\uff0c\u6ce8\u610f\u7a7a\u683c\u4e0e\u7f29\u8fdb\uff0c\u9519\u8bef\u914d\u7f6e\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u65e0\u6cd5\u6b63\u5e38\u542f\u52a8\napplication-config.yml \u76f4\u63a5\u7531 spring-boot \u5904\u7406"),(0,o.kt)("h4",{id:"321-\u5e94\u7528\u6570\u636e\u5e93\u914d\u7f6e"},"3.2.1 \u5e94\u7528\u6570\u636e\u5e93\u914d\u7f6e"),(0,o.kt)("p",null,"spring.datasource \u4e3a\u5e94\u7528\u6570\u636e\u5e93\u914d\u7f6e"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"spring:\n  datasource:\n    # \u9a71\u52a8\u7c7b\u540d\u79f0\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    # \u6570\u636e\u6e90\u7c7b\u578b\n    type: com.alibaba.druid.pool.DruidDataSource\n    # \u8fde\u63a5\u5b57\u7b26\u4e32\n    url: jdbc:mysql://${datasource.ip:localhost}:${datasource.port:3306}/${datasource.database:datasophon}?&allowMultiQueries=true&characterEncoding=utf-8\n    # \u7528\u6237\u540d\n    username: ${datasource.username:datasophon}\n    # \u5bc6\u7801\n    password: ${datasource.password:datasophon}\n")),(0,o.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f1a\u8bfb\u53d6 ",(0,o.kt)("inlineCode",{parentName:"p"},"datasophon.conf")," \u4e2d\u7684\u5e94\u7528\u6570\u636e\u5e93\u914d\u7f6e\u9879\u586b\u5145\u5230\u6a21\u677f\u4e2d"),(0,o.kt)("h4",{id:"322-\u5e94\u7528\u670d\u52a1\u5668\u914d\u7f6e"},"3.2.2 \u5e94\u7528\u670d\u52a1\u5668\u914d\u7f6e"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"server:\n  # Web \u670d\u52a1\u7ed1\u5b9a\u7aef\u53e3\n  port: ${server.port:8081}\n  # Web \u670d\u52a1\u7ed1\u5b9a\u5730\u5740\n  address: ${server.ip:0.0.0.0}\n")),(0,o.kt)("p",null,"\u9700\u8981\u6ce8\u610f\uff0c\u6240\u7ed1\u5b9a\u7684\u5730\u5740\u4e3a\u672c\u5730\u7f51\u5361 IP \u5730\u5740\uff0c\u4e00\u822c\u4e3a\u5185\u7f51\u5730\u5740"),(0,o.kt)("p",null,"\u540c\u6837\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f1a\u8bfb\u53d6 datasophon.conf \u4e2d\u7684\u5e94\u7528\u670d\u52a1\u5668\u914d\u7f6e\u9879\u586b\u5145\u5230\u6a21\u677f\u4e2d"),(0,o.kt)("h4",{id:"323-datasophon-\u5168\u5c40\u914d\u7f6e"},"3.2.3 datasophon \u5168\u5c40\u914d\u7f6e"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"datasophon:\n  # \u662f\u5426\u81ea\u52a8\u6267\u884c\u6570\u636e\u5e93\u5347\u7ea7\u811a\u672c\n  migration:\n    enable: true\n\n")))}u.isMDXComponent=!0},9982:(e,n,a)=>{a.d(n,{Z:()=>t});const t=a.p+"assets/images/image-20221111162257092-b3d5039e4870e7960b4b305b90edc627.png"}}]);